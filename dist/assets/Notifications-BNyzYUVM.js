import{b as j,u as g,a_ as w,j as e,o as l,S as q,r as y,a$ as b,U as p}from"./index-irexueTV.js";import{b as k,a as N}from"./Menu-CmgIRgBM.js";import{D as R,a as v}from"./DialogTitle-BbWngXSl.js";import{T as x}from"./Typography-JwG0Pq1m.js";import{L as A}from"./ListItem-CrKAa2bw.js";import{A as I}from"./Avatar-Cp4DZ0XV.js";import{B as u}from"./Button-yxfB9dJ-.js";import"./Modal-CTaQcr3u.js";import"./Menu-Bt0IaSNa.js";import"./isMuiElement-Bv43l1N-.js";const $=()=>{var m;const i=j(),{isNotification:o}=g(t=>t.misc),{isLoading:r,error:n,isError:c,data:s}=w(),[f]=k(b),d=async({_id:t,accept:a})=>{i(p(!1)),await f("request is processing...",{requestId:t,accept:a})};N([{error:n,isError:c}]);const h=()=>{i(p(!1))};return e.jsx(R,{open:o,onClose:h,children:e.jsxs(l,{p:{xs:"1rem",sm:"2rem"},maxWidth:"25rem",children:[e.jsx(v,{children:"Notifications"}),r?e.jsx(q,{}):(s==null?void 0:s.allRequests.length)>0?(m=s==null?void 0:s.allRequests)==null?void 0:m.map(({sender:t,_id:a})=>e.jsx(C,{sender:t,_id:a,handler:d},a)):e.jsx(x,{textAlign:"center",children:"0 notifications"})]})})},C=y.memo(({sender:i,_id:o,handler:r})=>{const{name:n,avatar:c}=i;return e.jsx(A,{children:e.jsxs(l,{direction:"row",alignItems:"center",spacing:"1rem",width:"100%",children:[e.jsx(I,{src:c}),e.jsx(x,{variant:"body1",sx:{flexGlow:1,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},children:`${n} sent you a friend request,`}),e.jsxs(l,{direction:{xs:"column",sm:"row"},children:[e.jsx(u,{onClick:()=>r({_id:o,accept:!0}),children:"Accept"}),e.jsx(u,{color:"error",onClick:()=>r({_id:o,accept:!1}),children:"Reject"})]})]})})});export{$ as default};
