import{b as A,u as S,b0 as y,r as C,j as e,o,S as D,b7 as k,ag as E}from"./index-irexueTV.js";import{U as H}from"./UserItem-BK1VO4-t.js";import{b as T,a as v}from"./Menu-CmgIRgBM.js";import{D as w,a as B}from"./DialogTitle-BbWngXSl.js";import{T as F}from"./Typography-JwG0Pq1m.js";import{B as m}from"./Button-yxfB9dJ-.js";import"./ListItem-CrKAa2bw.js";import"./Menu-Bt0IaSNa.js";import"./Modal-CTaQcr3u.js";import"./isMuiElement-Bv43l1N-.js";import"./Avatar-Cp4DZ0XV.js";import"./IconButton-DwQ1NlaF.js";import"./Delete-BaecR_Mp.js";const P=({chatId:n})=>{var d;const c=A(),{isAddMember:l}=S(s=>s.misc),[p,u]=T(k),{isLoading:b,data:r,isError:x,error:g}=y(n),[a,h]=C.useState([]),M=s=>{h(i=>i.includes(s)?i.filter(f=>f!==s):[...i,s])},j=()=>{p("Adding Members...",{chatId:n,members:a}),t()},t=()=>{c(E(!1))};return v([{isError:x,error:g}]),e.jsx(w,{open:l,onClose:t,children:e.jsxs(o,{p:"2rem",width:"20rem",spacing:"2rem",children:[e.jsx(B,{textAlign:"center",children:"Add Member"}),e.jsx(o,{spacing:"1rem",children:b?e.jsx(D,{}):(r==null?void 0:r.friends.length)>0?(d=r==null?void 0:r.friends)==null?void 0:d.map(s=>e.jsx(H,{user:s,handler:M,isAdded:a.includes(s._id)},s._id)):e.jsx(F,{textAlign:"center",children:"No Friend"})}),e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-evenly",children:[e.jsx(m,{onClick:t,color:"error",variant:"outlined",children:"cancle"}),e.jsx(m,{onClick:j,variant:"contained",disabled:u,children:"Submit Change"})]})]})})};export{P as default};
